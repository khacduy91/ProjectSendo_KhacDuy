{"ast":null,"code":"import _objectSpread from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./index.scss\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getDataProduct,getProductFilter,getArrayFilter,getPath_Default}from\"../../redux/action\";import ProductCardFILTER from\"../../Atoms/ProductCardFILTER\";var FilterPage=/*#__PURE__*/function(_React$Component){_inherits(FilterPage,_React$Component);var _super=_createSuper(FilterPage);function FilterPage(){var _this;_classCallCheck(this,FilterPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={pathPositionTop:\"\",pathGeneral:\"\",pathDefault:\"\",sortType:\"\"};_this.handleCheckBox_PositionTop=function(length){//Position Top\nvar pathPositionTop=[];for(var i=0;i<length;i++){var eleId_PositionTop=document.getElementById(\"PositionTop\".concat(i));eleId_PositionTop.checked===true&&pathPositionTop.push(eleId_PositionTop.value);}_this.setState({pathPositionTop:\"\".concat(pathPositionTop.join(\"&\"))},function(){return _this.props.getProductFilter(_this.state.pathPositionTop,_this.state.pathDefault,_this.state.pathGeneral,_this.props.query,_this.state.sortType);});};_this.handleCheckBox_General=function(length){//GeneralTerm\nvar pathGeneral=[];for(var i=0;i<length;i++){var eleId_General=document.getElementById(\"General\".concat(i));eleId_General.checked===true&&pathGeneral.push(eleId_General.value);}_this.setState({pathGeneral:\"&\".concat(pathGeneral.join(\"&\"))},function(){return _this.props.getProductFilter(_this.state.pathPositionTop,_this.state.pathDefault,_this.state.pathGeneral,_this.props.query,_this.state.sortType);});};_this.handleCheckBox_Default=function(length,b){//GeneralTerm\nvar pathDefault_attribute_Key=[];var pathDefault_attribute_Value=[];var ele_Default=document.getElementsByName(\"defaultTerm\");for(var i=0;i<ele_Default.length;i++){var ele_Default_ByName=ele_Default[i];if(ele_Default_ByName.checked===true){pathDefault_attribute_Key.push(ele_Default_ByName.id);pathDefault_attribute_Value.push(ele_Default_ByName.value);for(var _i=0;_i<pathDefault_attribute_Key.length-1;_i++){var checkKey=pathDefault_attribute_Key[_i];if(checkKey===pathDefault_attribute_Key[pathDefault_attribute_Key.length-1]){pathDefault_attribute_Key.splice(pathDefault_attribute_Key.length-1,1);pathDefault_attribute_Value.splice(pathDefault_attribute_Value.lenght-1,1);pathDefault_attribute_Value[_i]=\"\".concat(pathDefault_attribute_Value[_i],\",\").concat(ele_Default_ByName.value);}}}}console.log(pathDefault_attribute_Value,\"value\");console.log(pathDefault_attribute_Key,\"key\");var path=[];for(var _i2=0;_i2<pathDefault_attribute_Key.length;_i2++){var key=pathDefault_attribute_Key[_i2];var value=pathDefault_attribute_Value[_i2];path.push(\"\".concat(key,\"=\").concat(value));}_this.setState({pathDefault:path.join(\"&\")},function(){return _this.props.getProductFilter(_this.state.pathPositionTop,_this.state.pathDefault,_this.state.pathGeneral,_this.props.query,_this.state.sortType);});};_this.handleSort=function(a,b){var ele_ByName=document.getElementsByName(\"listOption\");console.log(ele_ByName.length);for(var i=0;i<ele_ByName.length;i++){var element=ele_ByName[i];element.classList.remove(\"activeSort\");}var ele_Id=document.getElementById(b);ele_Id.classList.add(\"activeSort\");_this.setState({sortType:a},function(){return _this.props.getProductFilter(_this.state.pathPositionTop,_this.state.pathDefault,_this.state.pathGeneral,_this.props.query,_this.state.sortType);});};return _this;}_createClass(FilterPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.getArrayFilter(this.props.query);this.props.getProductFilter(\"\",\"\",\"\",this.props.query);}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"FilterPage-wraper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"FilterPage-wraper-left\"},this.props.defaultTerm.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"FilterPage-wraper-left-container-DefaultTerm\",id:\"accordion\"},this.props.generalTerm.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"DefaultTerm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header DefaultTerm-header\"},/*#__PURE__*/React.createElement(\"a\",{className:\"card-link DefaultTerm-header-link\",\"data-toggle\":\"collapse\",href:\"#general\"},\"B\\u1ED8 L\\u1ECCC S\\u1EA2N PH\\u1EA8M\")),/*#__PURE__*/React.createElement(\"div\",{id:\"general\",className:\"collapse show\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body DefaultTerm-header-body\",onChange:function onChange(){return _this2.handleCheckBox_General(_this2.props.generalTerm.length);}},this.props.generalTerm.map(function(ele,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"form-check-inline\",key:index},/*#__PURE__*/React.createElement(\"label\",{className:\"form-check-label\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"General\".concat(index),value:\"\".concat(ele.attribute_key,\"=\").concat(ele.attribute_value[ele.attribute_key])}),ele.attribute_name));}))))),this.props.defaultTerm.map(function(ele,indexa){return/*#__PURE__*/React.createElement(\"div\",{className:\"DefaultTerm\",key:\"a\".concat(indexa),attributeKeyIndex:indexa},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header DefaultTerm-header\"},/*#__PURE__*/React.createElement(\"a\",{className:\"card-link DefaultTerm-header-link\",\"data-toggle\":\"collapse\",href:\"#collapse\".concat(indexa)},ele.attribute_name)),/*#__PURE__*/React.createElement(\"div\",{id:\"collapse\".concat(indexa),className:\"collapse show\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body DefaultTerm-header-body\",onChange:function onChange(){return _this2.handleCheckBox_Default(_this2.props.defaultTerm[indexa].attribute_value.length,_this2.props.defaultTerm[indexa].attribute_key,indexa);}},_this2.props.defaultTerm[indexa].attribute_value.map(function(ele,indexb){return/*#__PURE__*/React.createElement(\"div\",{className:\"form-check-inline\",key:indexb},/*#__PURE__*/React.createElement(\"label\",{className:\"form-check-label\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:_this2.props.defaultTerm[indexa].attribute_key// value={`${this.props.defaultTerm[indexa].attribute_key}=${ele.option_id}`}\n,value:ele.option_id,name:\"defaultTerm\"}),ele.option_name));})))));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"FilterPage-wraper-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"FilterPage-wraper-right-container-PositionTop\"},this.props.generalTerm_PositionTop.length>0&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"FilterPage-wraper-right-container-PositionTop-left\",onChange:function onChange(){return _this2.handleCheckBox_PositionTop(_this2.props.generalTerm_PositionTop.length);}},this.props.generalTerm_PositionTop.map(function(ele,index){return index===0?/*#__PURE__*/React.createElement(\"div\",{className:\"form-check-inline PositionTop\",key:index},/*#__PURE__*/React.createElement(\"label\",{className:\"form-check-label\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",id:\"PositionTop\".concat(index),value:\"\".concat(ele.attribute_key,\"=\").concat(ele.attribute_value[ele.attribute_key]),className:\"form-check-input\"}),/*#__PURE__*/React.createElement(\"img\",{src:ele.attribute_img,alt:\"isEvent\"}))):/*#__PURE__*/React.createElement(\"div\",{className:\"form-check-inline PositionTop\",key:index},/*#__PURE__*/React.createElement(\"label\",{className:\"form-check-label\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",id:\"PositionTop\".concat(index),className:\"form-check-input\",value:\"\".concat(ele.attribute_key,\"=\").concat(ele.attribute_value[ele.attribute_key])}),ele.attribute_name));})),/*#__PURE__*/React.createElement(\"div\",{className:\"FilterPage-wraper-right-container-PositionTop-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"btn-group\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-danger button sortType=rank activeSort\",id:\"sortType=rank\",name:\"listOption\",onClick:function onClick(e){return _this2.handleSort(\"sortType=rank\",\"sortType=rank\");}},\"\\u0110\\u1EC1 c\\u1EED\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-danger button sortType=norder_30_desc\",name:\"listOption\",id:\"sortType=norder_30_desc\",onClick:function onClick(e){return _this2.handleSort(\"sortType=norder_30_desc\",\"sortType=norder_30_desc\");}},\"B\\xE1n Ch\\u1EA1y\"),/*#__PURE__*/React.createElement(\"div\",{className:\"btn-group btn-danger\"},/*#__PURE__*/React.createElement(\"select\",{id:\"listOption\",className:\"listOption sortType=price_asc sortType=price_desc sortType=like_desc\",name:\"listOption\",onChange:function onChange(e){return _this2.handleSort(e.target.value,\"listOption\");}},/*#__PURE__*/React.createElement(\"option\",{value:\"sortType=price_asc\",id:\"sortType=price_asc\"},\"G\\xEDa th\\u1EA5p\"),/*#__PURE__*/React.createElement(\"option\",{value:\"sortType=price_desc\",id:\"sortType=price_desc\"},\"Gi\\xE1 cao\"),/*#__PURE__*/React.createElement(\"option\",{value:\"sortType=like_desc\",id:\"sortType=like_desc\"},\"L\\u01B0\\u1EE3t y\\xEAu th\\xEDch\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"FilterPage-wraper-right-container-ProductCardFILTER\"},Object.keys(this.props.productFilter).length>0&&this.props.productFilter.result.data.map(function(ele,index){return/*#__PURE__*/React.createElement(ProductCardFILTER,{product:ele,key:index,index:index});}))));}}]);return FilterPage;}(React.Component);var mapsStateToProps=function mapsStateToProps(state){return{productFilter:state.productFilter,defaultTerm:state.defaultTerm,generalTerm:state.generalTerm,generalTerm_PositionTop:state.generalTerm_PositionTop,query:state.query,pathDefault:state.pathDefault};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return _objectSpread({},bindActionCreators({getDataProduct:getDataProduct,getProductFilter:getProductFilter,getArrayFilter:getArrayFilter,getPath_Default:getPath_Default},dispatch));};export default connect(mapsStateToProps,mapDispatchToProps)(FilterPage);","map":{"version":3,"sources":["/Users/apple/DuyVu_CV/src/Components/FilterPage/index.jsx"],"names":["React","connect","bindActionCreators","getDataProduct","getProductFilter","getArrayFilter","getPath_Default","ProductCardFILTER","FilterPage","state","pathPositionTop","pathGeneral","pathDefault","sortType","handleCheckBox_PositionTop","length","i","eleId_PositionTop","document","getElementById","checked","push","value","setState","join","props","query","handleCheckBox_General","eleId_General","handleCheckBox_Default","b","pathDefault_attribute_Key","pathDefault_attribute_Value","ele_Default","getElementsByName","ele_Default_ByName","id","checkKey","splice","lenght","console","log","path","key","handleSort","a","ele_ByName","element","classList","remove","ele_Id","add","defaultTerm","generalTerm","map","ele","index","attribute_key","attribute_value","attribute_name","indexa","indexb","option_id","option_name","generalTerm_PositionTop","attribute_img","e","target","Object","keys","productFilter","result","data","Component","mapsStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./index.scss\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport {\n  getDataProduct,\n  getProductFilter,\n  getArrayFilter,\n  getPath_Default,\n} from \"../../redux/action\";\nimport ProductCardFILTER from \"../../Atoms/ProductCardFILTER\";\n\nclass FilterPage extends React.Component {\n  state = {\n    pathPositionTop: \"\",\n    pathGeneral: \"\",\n    pathDefault: \"\",\n    sortType: \"\",\n  };\n  componentDidMount() {\n    this.props.getArrayFilter(this.props.query);\n    this.props.getProductFilter(\"\", \"\", \"\", this.props.query);\n  }\n  handleCheckBox_PositionTop = (length) => {\n    //Position Top\n    let pathPositionTop = [];\n    for (let i = 0; i < length; i++) {\n      const eleId_PositionTop = document.getElementById(`PositionTop${i}`);\n      eleId_PositionTop.checked === true &&\n        pathPositionTop.push(eleId_PositionTop.value);\n    }\n\n    this.setState({ pathPositionTop: `${pathPositionTop.join(\"&\")}` }, () =>\n      this.props.getProductFilter(\n        this.state.pathPositionTop,\n        this.state.pathDefault,\n        this.state.pathGeneral,\n        this.props.query,\n        this.state.sortType\n      )\n    );\n  };\n  handleCheckBox_General = (length) => {\n    //GeneralTerm\n    let pathGeneral = [];\n    for (let i = 0; i < length; i++) {\n      const eleId_General = document.getElementById(`General${i}`);\n      eleId_General.checked === true && pathGeneral.push(eleId_General.value);\n    }\n\n    this.setState({ pathGeneral: `&${pathGeneral.join(\"&\")}` }, () =>\n      this.props.getProductFilter(\n        this.state.pathPositionTop,\n        this.state.pathDefault,\n        this.state.pathGeneral,\n        this.props.query,\n        this.state.sortType\n      )\n    );\n  };\n\n  handleCheckBox_Default = (length, b) => {\n    //GeneralTerm\n    let pathDefault_attribute_Key = [];\n    let pathDefault_attribute_Value = [];\n    const ele_Default = document.getElementsByName(\"defaultTerm\");\n    for (let i = 0; i < ele_Default.length; i++) {\n      const ele_Default_ByName = ele_Default[i];\n\n      if (ele_Default_ByName.checked === true) {\n        pathDefault_attribute_Key.push(ele_Default_ByName.id);\n        pathDefault_attribute_Value.push(ele_Default_ByName.value);\n        for (let i = 0; i < pathDefault_attribute_Key.length - 1; i++) {\n          const checkKey = pathDefault_attribute_Key[i];\n          if (\n            checkKey ===\n            pathDefault_attribute_Key[pathDefault_attribute_Key.length - 1]\n          ) {\n            pathDefault_attribute_Key.splice(\n              pathDefault_attribute_Key.length - 1,\n              1\n            );\n            pathDefault_attribute_Value.splice(\n              pathDefault_attribute_Value.lenght - 1,\n              1\n            );\n            pathDefault_attribute_Value[\n              i\n            ] = `${pathDefault_attribute_Value[i]},${ele_Default_ByName.value}`;\n          }\n        }\n      }\n    }\n    console.log(pathDefault_attribute_Value, \"value\");\n    console.log(pathDefault_attribute_Key, \"key\");\n    const path = [];\n    for (let i = 0; i < pathDefault_attribute_Key.length; i++) {\n      const key = pathDefault_attribute_Key[i];\n      const value = pathDefault_attribute_Value[i];\n      path.push(`${key}=${value}`);\n    }\n    this.setState({ pathDefault: path.join(\"&\") }, () =>\n      this.props.getProductFilter(\n        this.state.pathPositionTop,\n        this.state.pathDefault,\n        this.state.pathGeneral,\n        this.props.query,\n        this.state.sortType\n      )\n    );\n  };\n\n  handleSort = (a, b) => {\n    const ele_ByName = document.getElementsByName(\"listOption\");\n    console.log(ele_ByName.length);\n    for (let i = 0; i < ele_ByName.length; i++) {\n      const element = ele_ByName[i];\n      element.classList.remove(\"activeSort\");\n    }\n\n    const ele_Id = document.getElementById(b);\n    ele_Id.classList.add(\"activeSort\");\n\n    this.setState({ sortType: a }, () =>\n      this.props.getProductFilter(\n        this.state.pathPositionTop,\n        this.state.pathDefault,\n        this.state.pathGeneral,\n        this.props.query,\n        this.state.sortType\n      )\n    );\n  };\n  render() {\n    return (\n      <div className=\"FilterPage-wraper\">\n        <div className=\"FilterPage-wraper-left\">\n          {this.props.defaultTerm.length > 0 && (\n            <div\n              className=\"FilterPage-wraper-left-container-DefaultTerm\"\n              id=\"accordion\"\n            >\n              {this.props.generalTerm.length > 0 && (\n                <div className=\"DefaultTerm\">\n                  <div className=\"card\">\n                    <div className=\"card-header DefaultTerm-header\">\n                      <a\n                        className=\"card-link DefaultTerm-header-link\"\n                        data-toggle=\"collapse\"\n                        href=\"#general\"\n                      >\n                        BỘ LỌC SẢN PHẨM\n                      </a>\n                    </div>\n                    <div id=\"general\" className=\"collapse show\">\n                      <div\n                        className=\"card-body DefaultTerm-header-body\"\n                        onChange={() =>\n                          this.handleCheckBox_General(\n                            this.props.generalTerm.length\n                          )\n                        }\n                      >\n                        {this.props.generalTerm.map((ele, index) => (\n                          <div className=\"form-check-inline\" key={index}>\n                            <label className=\"form-check-label\">\n                              <input\n                                type=\"checkbox\"\n                                className=\"form-check-input\"\n                                id={`General${index}`}\n                                value={`${ele.attribute_key}=${\n                                  ele.attribute_value[ele.attribute_key]\n                                }`}\n                              />\n                              {ele.attribute_name}\n                            </label>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {this.props.defaultTerm.map((ele, indexa) => (\n                <div\n                  className=\"DefaultTerm\"\n                  key={`a${indexa}`}\n                  attributeKeyIndex={indexa}\n                >\n                  <div className=\"card\">\n                    <div className=\"card-header DefaultTerm-header\">\n                      <a\n                        className=\"card-link DefaultTerm-header-link\"\n                        data-toggle=\"collapse\"\n                        href={`#collapse${indexa}`}\n                      >\n                        {ele.attribute_name}\n                      </a>\n                    </div>\n                    <div id={`collapse${indexa}`} className=\"collapse show\">\n                      <div\n                        className=\"card-body DefaultTerm-header-body\"\n                        onChange={() =>\n                          this.handleCheckBox_Default(\n                            this.props.defaultTerm[indexa].attribute_value\n                              .length,\n                            this.props.defaultTerm[indexa].attribute_key,\n                            indexa\n                          )\n                        }\n                      >\n                        {this.props.defaultTerm[indexa].attribute_value.map(\n                          (ele, indexb) => (\n                            <div className=\"form-check-inline\" key={indexb}>\n                              <label className=\"form-check-label\">\n                                <input\n                                  type=\"checkbox\"\n                                  className=\"form-check-input\"\n                                  id={\n                                    this.props.defaultTerm[indexa].attribute_key\n                                  }\n                                  // value={`${this.props.defaultTerm[indexa].attribute_key}=${ele.option_id}`}\n                                  value={ele.option_id}\n                                  name=\"defaultTerm\"\n                                />\n                                {ele.option_name}\n                              </label>\n                            </div>\n                          )\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n        <div className=\"FilterPage-wraper-right\">\n          <div className=\"FilterPage-wraper-right-container-PositionTop\">\n            {this.props.generalTerm_PositionTop.length > 0 && (\n              <>\n                <div\n                  className=\"FilterPage-wraper-right-container-PositionTop-left\"\n                  onChange={() =>\n                    this.handleCheckBox_PositionTop(\n                      this.props.generalTerm_PositionTop.length\n                    )\n                  }\n                >\n                  {this.props.generalTerm_PositionTop.map((ele, index) =>\n                    index === 0 ? (\n                      <div\n                        className=\"form-check-inline PositionTop\"\n                        key={index}\n                      >\n                        <label className=\"form-check-label\">\n                          <input\n                            type=\"checkbox\"\n                            id={`PositionTop${index}`}\n                            value={`${ele.attribute_key}=${\n                              ele.attribute_value[ele.attribute_key]\n                            }`}\n                            className=\"form-check-input\"\n                          />\n                          <img src={ele.attribute_img} alt=\"isEvent\" />\n                        </label>\n                      </div>\n                    ) : (\n                      <div\n                        className=\"form-check-inline PositionTop\"\n                        key={index}\n                      >\n                        <label className=\"form-check-label\">\n                          <input\n                            type=\"checkbox\"\n                            id={`PositionTop${index}`}\n                            className=\"form-check-input\"\n                            value={`${ele.attribute_key}=${\n                              ele.attribute_value[ele.attribute_key]\n                            }`}\n                          />\n                          {ele.attribute_name}\n                        </label>\n                      </div>\n                    )\n                  )}\n                </div>\n\n                <div className=\"FilterPage-wraper-right-container-PositionTop-right\">\n                  <div className=\"btn-group\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-danger button sortType=rank activeSort\"\n                      id=\"sortType=rank\"\n                      name=\"listOption\"\n                      onClick={(e) =>\n                        this.handleSort(\"sortType=rank\", \"sortType=rank\")\n                      }\n                    >\n                      Đề cử\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-danger button sortType=norder_30_desc\"\n                      name=\"listOption\"\n                      id=\"sortType=norder_30_desc\"\n                      onClick={(e) =>\n                        this.handleSort(\n                          \"sortType=norder_30_desc\",\n                          \"sortType=norder_30_desc\"\n                        )\n                      }\n                    >\n                      Bán Chạy\n                    </button>\n                    <div className=\"btn-group btn-danger\">\n                      <select\n                        id=\"listOption\"\n                        className=\"listOption sortType=price_asc sortType=price_desc sortType=like_desc\"\n                        name=\"listOption\"\n                        onChange={(e) =>\n                          this.handleSort(e.target.value, \"listOption\")\n                        }\n                      >\n                        <option\n                          value=\"sortType=price_asc\"\n                          id=\"sortType=price_asc\"\n                        >\n                          Gía thấp\n                        </option>\n                        <option\n                          value=\"sortType=price_desc\"\n                          id=\"sortType=price_desc\"\n                        >\n                          Giá cao\n                        </option>\n                        <option\n                          value=\"sortType=like_desc\"\n                          id=\"sortType=like_desc\"\n                        >\n                          Lượt yêu thích\n                        </option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n\n          <div className=\"FilterPage-wraper-right-container-ProductCardFILTER\">\n            {Object.keys(this.props.productFilter).length > 0 &&\n              this.props.productFilter.result.data.map((ele, index) => (\n                <ProductCardFILTER product={ele} key={index} index={index} />\n              ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapsStateToProps = (state) => ({\n  productFilter: state.productFilter,\n  defaultTerm: state.defaultTerm,\n  generalTerm: state.generalTerm,\n  generalTerm_PositionTop: state.generalTerm_PositionTop,\n  query: state.query,\n  pathDefault: state.pathDefault,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  ...bindActionCreators(\n    {\n      getDataProduct,\n      getProductFilter,\n      getArrayFilter,\n      getPath_Default,\n    },\n    dispatch\n  ),\n});\nexport default connect(mapsStateToProps, mapDispatchToProps)(FilterPage);\n"]},"metadata":{},"sourceType":"module"}