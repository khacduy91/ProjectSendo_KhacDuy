{"ast":null,"code":"import _objectSpread from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./index.scss\";import ProductCardTOPKEYWORD from\"../../Atoms/ProductCardTOPKEYWORD\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{getProductToCart,deleteProductCart,change_Quanity,getDataProduct}from\"../../redux/action\";import{Link}from\"react-router-dom\";var CartPage=/*#__PURE__*/function(_React$Component){_inherits(CartPage,_React$Component);var _super=_createSuper(CartPage);function CartPage(){var _this;_classCallCheck(this,CartPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={// totalP: 0,\n// cartProducts: [],\n};_this.handleNext=function(a,b,c){var scrollWidth=document.getElementById(\"\".concat(b)).scrollWidth;var eleWidth=document.querySelector(\"\".concat(c)).offsetWidth;var scrollLeft=document.getElementById(\"\".concat(b)).scrollLeft;var widthPerSlide=scrollWidth/a;var numberSilder=Math.floor(scrollLeft/widthPerSlide);Math.floor(scrollLeft/widthPerSlide)<scrollLeft/widthPerSlide?numberSilder=Math.floor(scrollLeft/widthPerSlide)+1:numberSilder=Math.floor(scrollLeft/widthPerSlide);scrollLeft>=scrollWidth-eleWidth?document.getElementById(\"\".concat(b)).scrollLeft=scrollWidth-eleWidth:document.getElementById(\"\".concat(b)).scrollLeft=widthPerSlide*(numberSilder+1);};_this.handlePrev=function(a,b,c){var scrollWidth=document.getElementById(\"\".concat(b)).scrollWidth;var scrollLeft=document.getElementById(\"\".concat(b)).scrollLeft;var numberSilder=Math.floor(scrollLeft/(scrollWidth/a));var widthPerSlide=scrollWidth/a;scrollLeft<=0?document.getElementById(\"\".concat(b)).scrollLeft=0:document.getElementById(\"\".concat(b)).scrollLeft=widthPerSlide*numberSilder-1;};_this.handleDelete=function(i){console.log(_this.props.cartProducts.length,\"len\");console.log(i,\"index\");var newCartProduct=_this.props.cartProducts;newCartProduct.splice(i,1);console.log(newCartProduct,\"neeeew\");_this.props.deleteProductCart(newCartProduct);_this.setState(_objectSpread({},_this.state));};_this.handleChange_Quanity=function(e,index){if(e.target.value>=0){_this.props.change_Quanity(e.target.value,index);_this.setState(_objectSpread({},_this.state));}else{_this.props.change_Quanity(0,index);_this.setState(_objectSpread({},_this.state));}};_this.handleClick_Paid=function(){console.log(_this.props.user.isLoggedSuccess,\"status login\");_this.props.user.isLoggedSuccess?alert(\"Bạn đã thanh toán thành công, cảm ơn bạn đã xem Project này\"):alert(\"Bạn cần đăng nhập trước khi thanh toán\");};return _this;}_createClass(CartPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.productTopKeyWord.length===0&&this.props.getDataProduct();}},{key:\"render\",//render\nvalue:function render(){var _this2=this;//total Price\nvar totalP=0;for(var i=0;i<this.props.cartProducts.length;i++){var ele_Price=this.props.cartProducts[i].price*this.props.cartProducts[i].quanity;totalP=ele_Price*1+totalP;}return/*#__PURE__*/React.createElement(\"div\",{className:\"CartPage\"},/*#__PURE__*/React.createElement(\"div\",{className:\"CartPage-title\"},/*#__PURE__*/React.createElement(\"p\",null,\"Gi\\u1ECF h\\xE0ng c\\u1EE7a b\\u1EA1n\"),this.props.cartProducts.length>0&&/*#__PURE__*/React.createElement(\"span\",{id:\"totalProduct\"},this.props.cartProducts.length,\" s\\u1EA3n ph\\u1EA9m\"),/*#__PURE__*/React.createElement(\"span\",{id:\"totalPrice\"},\"T\\u1ED5ng ti\\u1EC1n: \",totalP.toLocaleString())),this.props.cartProducts.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,this.props.cartProducts.map(function(ele,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"cartContainer\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"cartContainer-Image\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://media3.scdn.vn/\".concat(ele.thumbnail),alt:ele.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"cartContainer-Info\"},/*#__PURE__*/React.createElement(\"p\",null,ele.name),/*#__PURE__*/React.createElement(\"p\",null,\"K\\xEDch th\\u01B0\\u1EDBc :\",ele[\"Kích thước\"]?ele[\"Kích thước\"]:\"none\"),/*#__PURE__*/React.createElement(\"p\",null,\"M\\xE0u s\\u1EAFc :\",ele[\"Màu sắc\"]?ele[\"Màu sắc\"]:\"none\")),/*#__PURE__*/React.createElement(\"div\",{className:\"cartContainer-Quanity\"},/*#__PURE__*/React.createElement(\"p\",null,\"S\\u1ED1 l\\u01B0\\u1EE3ng\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",defaultValue:ele.quanity,onChange:function onChange(e){return _this2.handleChange_Quanity(e,index);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"cartContainer-Price\"},/*#__PURE__*/React.createElement(\"input\",{type:\"numer\"// defaultValue={(ele.price * ele.quanity).toLocaleString()}\n,readOnly:true,value:(ele.price*ele.quanity).toLocaleString()}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this2.handleDelete(index);}},\"x\")));}),/*#__PURE__*/React.createElement(\"div\",{className:\"cartButton\"},/*#__PURE__*/React.createElement(Link,{to:\"/ProjectSendo_KhacDuy/filter\"},/*#__PURE__*/React.createElement(\"button\",null,\"Ti\\u1EBFp t\\u1EE5c mua s\\u1EAFm\")),/*#__PURE__*/React.createElement(\"button\",{id:\"paid\",onClick:function onClick(){return _this2.handleClick_Paid();}},\"Thanh to\\xE1n\"))):/*#__PURE__*/React.createElement(\"div\",{className:\"initialCart\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://pwa-web.scdn.vn/static/media/cart-empty.e2664e0f.svg\",alt:\"gio hang trong\"}),/*#__PURE__*/React.createElement(Link,{to:\"/ProjectSendo_KhacDuy/filter\"},/*#__PURE__*/React.createElement(\"button\",null,\"Ti\\u1EBFp t\\u1EE5c mua s\\u1EAFm\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"productTopKeyWord\"},Object.keys(this.props.productTopKeyWord).length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"productTopKeyWord-wraper\"},/*#__PURE__*/React.createElement(\"button\",{className:\"productTopKeyWord-wraper-prev\",onClick:function onClick(){return _this2.handlePrev(_this2.props.productTopKeyWord.result.data.length,\"productTopKeyWord-container\",\".productTopKeyWord-wraper\");}},/*#__PURE__*/React.createElement(\"span\",{className:\"carousel-control-prev-icon\"})),/*#__PURE__*/React.createElement(\"button\",{className:\"productTopKeyWord-wraper-next\",onClick:function onClick(){return _this2.handleNext(_this2.props.productTopKeyWord.result.data.length,\"productTopKeyWord-container\",\".productTopKeyWord-wraper\");}},/*#__PURE__*/React.createElement(\"span\",{className:\"carousel-control-next-icon\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"productTopKeyWord-title\"},/*#__PURE__*/React.createElement(\"p\",null,\"XU H\\u01AF\\u1EDANG T\\xCCM KI\\u1EBEM\")),/*#__PURE__*/React.createElement(\"div\",{className:\"productTopKeyWord-container\",id:\"productTopKeyWord-container\"},this.props.productTopKeyWord.result.data.map(function(ele,index){return/*#__PURE__*/React.createElement(ProductCardTOPKEYWORD,{product:ele,key:index,index:index});})))));}}]);return CartPage;}(React.Component);var mapsStateToProps=function mapsStateToProps(state){return{cartProducts:state.cartProducts,productTopKeyWord:state.productTopKeyWord,user:state.user};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return _objectSpread({},bindActionCreators({getProductToCart:getProductToCart,deleteProductCart:deleteProductCart,change_Quanity:change_Quanity,getDataProduct:getDataProduct},dispatch));};export default connect(mapsStateToProps,mapDispatchToProps)(CartPage);","map":{"version":3,"sources":["/Users/apple/DuyVu_CV/src/Components/CartPage/index.jsx"],"names":["React","ProductCardTOPKEYWORD","connect","bindActionCreators","getProductToCart","deleteProductCart","change_Quanity","getDataProduct","Link","CartPage","state","handleNext","a","b","c","scrollWidth","document","getElementById","eleWidth","querySelector","offsetWidth","scrollLeft","widthPerSlide","numberSilder","Math","floor","handlePrev","handleDelete","i","console","log","props","cartProducts","length","newCartProduct","splice","setState","handleChange_Quanity","e","index","target","value","handleClick_Paid","user","isLoggedSuccess","alert","productTopKeyWord","totalP","ele_Price","price","quanity","toLocaleString","map","ele","thumbnail","name","Object","keys","result","data","Component","mapsStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./index.scss\";\nimport ProductCardTOPKEYWORD from \"../../Atoms/ProductCardTOPKEYWORD\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport {\n  getProductToCart,\n  deleteProductCart,\n  change_Quanity,\n  getDataProduct,\n} from \"../../redux/action\";\nimport { Link } from \"react-router-dom\";\n\nclass CartPage extends React.Component {\n  componentDidMount() {\n    this.props.productTopKeyWord.length === 0 && this.props.getDataProduct();\n  }\n  state = {\n    // totalP: 0,\n    // cartProducts: [],\n  };\n\n  handleNext = (a, b, c) => {\n    let scrollWidth = document.getElementById(`${b}`).scrollWidth;\n    let eleWidth = document.querySelector(`${c}`).offsetWidth;\n    let scrollLeft = document.getElementById(`${b}`).scrollLeft;\n\n    let widthPerSlide = scrollWidth / a;\n    let numberSilder = Math.floor(scrollLeft / widthPerSlide);\n\n    Math.floor(scrollLeft / widthPerSlide) < scrollLeft / widthPerSlide\n      ? (numberSilder = Math.floor(scrollLeft / widthPerSlide) + 1)\n      : (numberSilder = Math.floor(scrollLeft / widthPerSlide));\n\n    scrollLeft >= scrollWidth - eleWidth\n      ? (document.getElementById(`${b}`).scrollLeft = scrollWidth - eleWidth)\n      : (document.getElementById(`${b}`).scrollLeft =\n          widthPerSlide * (numberSilder + 1));\n  };\n\n  handlePrev = (a, b, c) => {\n    let scrollWidth = document.getElementById(`${b}`).scrollWidth;\n\n    let scrollLeft = document.getElementById(`${b}`).scrollLeft;\n    let numberSilder = Math.floor(scrollLeft / (scrollWidth / a));\n    let widthPerSlide = scrollWidth / a;\n\n    scrollLeft <= 0\n      ? (document.getElementById(`${b}`).scrollLeft = 0)\n      : (document.getElementById(`${b}`).scrollLeft =\n          widthPerSlide * numberSilder - 1);\n  };\n\n  handleDelete = (i) => {\n    console.log(this.props.cartProducts.length, \"len\");\n    console.log(i, \"index\");\n    let newCartProduct = this.props.cartProducts;\n    newCartProduct.splice(i, 1);\n    console.log(newCartProduct, \"neeeew\");\n    this.props.deleteProductCart(newCartProduct);\n    this.setState({ ...this.state });\n  };\n\n  handleChange_Quanity = (e, index) => {\n    if (e.target.value >= 0) {\n      this.props.change_Quanity(e.target.value, index);\n      this.setState({ ...this.state });\n    } else {\n      this.props.change_Quanity(0, index);\n      this.setState({ ...this.state });\n    }\n  };\n\n  handleClick_Paid = () => {\n    console.log(this.props.user.isLoggedSuccess, \"status login\");\n    this.props.user.isLoggedSuccess\n      ? alert(\"Bạn đã thanh toán thành công, cảm ơn bạn đã xem Project này\")\n      : alert(\"Bạn cần đăng nhập trước khi thanh toán\");\n  };\n\n  //render\n  render() {\n    //total Price\n    let totalP = 0;\n    for (let i = 0; i < this.props.cartProducts.length; i++) {\n      const ele_Price =\n        this.props.cartProducts[i].price * this.props.cartProducts[i].quanity;\n      totalP = ele_Price * 1 + totalP;\n    }\n\n    return (\n      <div className=\"CartPage\">\n        <div className=\"CartPage-title\">\n          <p>Giỏ hàng của bạn</p>\n          {this.props.cartProducts.length > 0 && (\n            <span id=\"totalProduct\">\n              {this.props.cartProducts.length} sản phẩm\n            </span>\n          )}\n          <span id=\"totalPrice\">Tổng tiền: {totalP.toLocaleString()}</span>\n        </div>\n\n        {this.props.cartProducts.length > 0 ? (\n          <>\n            {this.props.cartProducts.map((ele, index) => (\n              <div className=\"cartContainer\" key={index}>\n                <div className=\"cartContainer-Image\">\n                  <img\n                    src={`https://media3.scdn.vn/${ele.thumbnail}`}\n                    alt={ele.name}\n                  />\n                </div>\n                <div className=\"cartContainer-Info\">\n                  <p>{ele.name}</p>\n                  <p>\n                    Kích thước :{ele[\"Kích thước\"] ? ele[\"Kích thước\"] : \"none\"}\n                  </p>\n                  <p>Màu sắc :{ele[\"Màu sắc\"] ? ele[\"Màu sắc\"] : \"none\"}</p>\n                </div>\n                <div className=\"cartContainer-Quanity\">\n                  <p>Số lượng</p>\n                  <input\n                    type=\"number\"\n                    defaultValue={ele.quanity}\n                    onChange={(e) => this.handleChange_Quanity(e, index)}\n                  />\n                </div>\n                <div className=\"cartContainer-Price\">\n                  <input\n                    type=\"numer\"\n                    // defaultValue={(ele.price * ele.quanity).toLocaleString()}\n                    readOnly\n                    value={(ele.price * ele.quanity).toLocaleString()}\n                  />\n                  <button onClick={() => this.handleDelete(index)}>x</button>\n                </div>\n              </div>\n            ))}\n            <div className=\"cartButton\">\n              <Link to=\"/ProjectSendo_KhacDuy/filter\">\n                <button>Tiếp tục mua sắm</button>\n              </Link>\n              <button id=\"paid\" onClick={() => this.handleClick_Paid()}>\n                Thanh toán\n              </button>\n            </div>\n          </>\n        ) : (\n          <div className=\"initialCart\">\n            <img\n              src=\"https://pwa-web.scdn.vn/static/media/cart-empty.e2664e0f.svg\"\n              alt=\"gio hang trong\"\n            />\n            <Link to=\"/ProjectSendo_KhacDuy/filter\">\n              <button>Tiếp tục mua sắm</button>\n            </Link>\n          </div>\n        )}\n\n        <div className=\"productTopKeyWord\">\n          {Object.keys(this.props.productTopKeyWord).length > 0 && (\n            <div className=\"productTopKeyWord-wraper\">\n              <button\n                className=\"productTopKeyWord-wraper-prev\"\n                onClick={() =>\n                  this.handlePrev(\n                    this.props.productTopKeyWord.result.data.length,\n                    \"productTopKeyWord-container\",\n                    \".productTopKeyWord-wraper\"\n                  )\n                }\n              >\n                <span className=\"carousel-control-prev-icon\"></span>\n              </button>\n              <button\n                className=\"productTopKeyWord-wraper-next\"\n                onClick={() =>\n                  this.handleNext(\n                    this.props.productTopKeyWord.result.data.length,\n                    \"productTopKeyWord-container\",\n                    \".productTopKeyWord-wraper\"\n                  )\n                }\n              >\n                <span className=\"carousel-control-next-icon\"></span>\n              </button>\n              <div className=\"productTopKeyWord-title\">\n                <p>XU HƯỚNG TÌM KIẾM</p>\n              </div>\n\n              <div\n                className=\"productTopKeyWord-container\"\n                id=\"productTopKeyWord-container\"\n              >\n                {this.props.productTopKeyWord.result.data.map((ele, index) => (\n                  <ProductCardTOPKEYWORD\n                    product={ele}\n                    key={index}\n                    index={index}\n                  />\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapsStateToProps = (state) => ({\n  cartProducts: state.cartProducts,\n  productTopKeyWord: state.productTopKeyWord,\n  user: state.user,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  ...bindActionCreators(\n    {\n      getProductToCart,\n      deleteProductCart,\n      change_Quanity,\n      getDataProduct,\n    },\n    dispatch\n  ),\n});\nexport default connect(mapsStateToProps, mapDispatchToProps)(CartPage);\n"]},"metadata":{},"sourceType":"module"}