{"ast":null,"code":"import _toConsumableArray from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/apple/DuyVu_CV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{FILTER,TEST_COUNT_NUMBER_TANG,TEST_COUNT_NUMBER_GIAM,GET_PRODUCT_FLASHSALE,GET_BANNER,GET_MENU// GET_SITEMAP,\n,GET_THEME_EVENT,GET_SHOP_SEN_MALL,GET_PRODUCT_RECOMMEND,GET_PRODUCT_TOPKEYWORD,DELETE_OLD_PRODUCT,GET_PRODUCT_FILTER,GET_ARRAY_FILTER,GET_QUERY,GET_PATH_DEFAULT,GET_DETAIL_PRODUCT,GET_DETAIL_SHOP,ADD_TO_CART,DELETE_PRODUCT_CART,CHANGE_QUANITY,HISTORY_QUERY,HISTORY_PRODUCT,CHANGE_ISUPDATE,GET_PRODUCT_FILTER_START,GET_DETAIL_PRODUCT_START,GET_ERR_MSG,GET_STATUS_FILTER,GET_STATUS_DETAIL,GET_USER_LOGGED,HANDLESORT}from\"./action\";var initialState={countNumber:0,productFlashSale:[],productRecommend:[],productTopKeyWord:[],productFilter:[],shopSenMall:[],banner:[],menu:[],sitemap:[],query:\"\",page:1,themeEvent:[],arrayFilter:[],defaultTerm:[],generalTerm:[],generalTerm_PositionTop:[],detailProduct:[],detailShop:[],pathDefault:[],cartProducts:[],historyQuery:[],historyProduct:[],isUpdate:false,isSuccess:true,errMsg:\"\",statusFilter:\"startLoading\",statusDetail:\"startLoading\",user:{name:\"\",isLoggedSuccess:false}};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case FILTER:{return _objectSpread(_objectSpread({},state),{},{category:action.category});}case CHANGE_ISUPDATE:{return _objectSpread(_objectSpread({},state),{},{isUpdate:action.isUpdate});}case TEST_COUNT_NUMBER_TANG:{initialState.countNumber++;return _objectSpread(_objectSpread({},state),{},{countNumber:initialState.countNumber});}case TEST_COUNT_NUMBER_GIAM:{initialState.countNumber=initialState.countNumber-1;return _objectSpread(_objectSpread({},state),{},{countNumber:initialState.countNumber});}case GET_PRODUCT_FLASHSALE:{return _objectSpread(_objectSpread({},state),{},{productFlashSale:action.productFlashSale});}case GET_BANNER:{return _objectSpread(_objectSpread({},state),{},{banner:action.banner});}case GET_MENU:{return _objectSpread(_objectSpread({},state),{},{menu:action.menu});}// case GET_SITEMAP: {\n//   return { ...state, sitemap: action.sitemap };\n// }\ncase GET_THEME_EVENT:{return _objectSpread(_objectSpread({},state),{},{themeEvent:action.themeEvent});}case GET_SHOP_SEN_MALL:{return _objectSpread(_objectSpread({},state),{},{shopSenMall:action.shopSenMall});}case GET_PRODUCT_RECOMMEND:{return _objectSpread(_objectSpread({},state),{},{productRecommend:action.productRecommend});}case GET_PRODUCT_TOPKEYWORD:{return _objectSpread(_objectSpread({},state),{},{productTopKeyWord:action.productTopKeyWord});}case GET_PATH_DEFAULT:{var pathDefault=state.pathDefault;var newArray_PathDefault=[].concat(_toConsumableArray(pathDefault),[action.pathDefault]);return _objectSpread(_objectSpread({},state),{},{pathDefault:newArray_PathDefault});}case DELETE_OLD_PRODUCT:{return _objectSpread(_objectSpread({},state),{},{productFilter:action.productFilter});}case GET_PRODUCT_FILTER_START:{return _objectSpread(_objectSpread({},state),{},{productFilter:action.isLoadmore?state.productFilter:[]});}case GET_PRODUCT_FILTER:{var loadMoreProducts=[].concat(_toConsumableArray(state.productFilter),_toConsumableArray(action.productFilter));var productFilter=action.productFilter;console.log(loadMoreProducts,\"new\");return _objectSpread(_objectSpread({},state),{},{productFilter:action.isLoadmore?loadMoreProducts:productFilter});}case GET_ARRAY_FILTER:{var newArrayDefaultTerm=[];var newArrayGeneralTerm=[];var newArrayPositionTop=[];var newArrayFilter=action.arrayFilter.result.data;for(var i=0;i<newArrayFilter.length;i++){newArrayFilter[i].attribute_term===\"DefaultTerm\"&&newArrayDefaultTerm.push(newArrayFilter[i]);}for(var _i=0;_i<newArrayFilter.length;_i++){if(newArrayFilter[_i].attribute_term===\"GeneralTerm\"&newArrayFilter[_i].position!==\"top\"){newArrayGeneralTerm.push(newArrayFilter[_i]);}}for(var _i2=0;_i2<newArrayFilter.length;_i2++){if(newArrayFilter[_i2].attribute_term===\"GeneralTerm\"&newArrayFilter[_i2].position===\"top\"){newArrayPositionTop.push(newArrayFilter[_i2]);}}return _objectSpread(_objectSpread({},state),{},{arrayFilter:newArrayFilter,defaultTerm:newArrayDefaultTerm,generalTerm:newArrayGeneralTerm,generalTerm_PositionTop:newArrayPositionTop});}case GET_QUERY:{return _objectSpread(_objectSpread({},state),{},{query:action.query});}case GET_DETAIL_PRODUCT_START:{return _objectSpread(_objectSpread({},state),{},{detailProduct:[]});}case GET_DETAIL_PRODUCT:{return _objectSpread(_objectSpread({},state),{},{detailProduct:action.detailProduct});}case GET_DETAIL_SHOP:{return _objectSpread(_objectSpread({},state),{},{detailShop:action.detailShop});}case ADD_TO_CART:{var product_AddToCart=action.product_AddToCart;var length=state.cartProducts.length;var cartProducts=state.cartProducts;cartProducts[length]=product_AddToCart;for(var _i3=0;_i3<cartProducts.length-1;_i3++){var product=cartProducts[_i3];if(product.id===product_AddToCart.id&product[\"Màu sắc\"]===product_AddToCart[\"Màu sắc\"]&product[\"Kích thước\"]===product_AddToCart[\"Kích thước\"]){console.log(\"giong\");cartProducts.splice(length,1);product.quanity=product.quanity+1;}}console.log(cartProducts,\"cartProduct\");return _objectSpread(_objectSpread({},state),{},{cartProducts:cartProducts});}case DELETE_PRODUCT_CART:{var newCartProduct=action.cartProducts;console.log(newCartProduct,\"new\");return _objectSpread(_objectSpread({},state),{},{cartProducts:newCartProduct,isUpdate:true});}case CHANGE_QUANITY:{var new_cartProduct=state.cartProducts;new_cartProduct[action.index].quanity=action.value;return _objectSpread(_objectSpread({},state),{},{cartProducts:new_cartProduct});}case HISTORY_QUERY:{var newHistoryQuery=state.historyQuery;newHistoryQuery.push(action.historyQuery);for(var _i4=0;_i4<newHistoryQuery.length-1;_i4++){var ele=newHistoryQuery[_i4];ele===action.historyQuery&&newHistoryQuery.splice(_i4,1);}return _objectSpread(_objectSpread({},state),{},{historyQuery:newHistoryQuery});}case HISTORY_PRODUCT:{var newHistoryProduct=state.historyProduct;newHistoryProduct.push(action.historyProduct);newHistoryProduct.length>3&&newHistoryProduct.splice(0,1);return _objectSpread(_objectSpread({},state),{},{historyProduct:newHistoryProduct});}case GET_ERR_MSG:{return _objectSpread(_objectSpread({},state),{},{errMsg:action.errMsg});}case GET_STATUS_FILTER:{return _objectSpread(_objectSpread({},state),{},{statusFilter:action.statusFilter});}case GET_STATUS_DETAIL:{return _objectSpread(_objectSpread({},state),{},{statusDetail:action.statusDetail});}case GET_USER_LOGGED:{var user=state.user;user.name=action.name;user.isLoggedSuccess=action.isLoggedSuccess;return _objectSpread(_objectSpread({},state),{},{user:user});}case HANDLESORT:{var sortType=action.sortType;var _productFilter=action.productFilter;switch(sortType){case\"thapdencao\":console.log(\"thapdencao\");_productFilter.sort(function(a,b){return a.final_price-b.final_price;});break;case\"caodenthap\":_productFilter.sort(function(a,b){return b.final_price-a.final_price;});break;case\"muanhieunhat\":_productFilter.sort(function(a,b){return b.order_count-a.order_count;});break;case\"dangkhuyenmai\":_productFilter.sort(function(a,b){return b.promotion_percent-a.promotion_percent;});break;default:return _objectSpread({},state);}return _objectSpread(_objectSpread({},state),{},{productFilter:_productFilter,isUpdate:true});}default:return state;}};export default reducer;","map":{"version":3,"sources":["/Users/apple/DuyVu_CV/src/redux/reducer.js"],"names":["FILTER","TEST_COUNT_NUMBER_TANG","TEST_COUNT_NUMBER_GIAM","GET_PRODUCT_FLASHSALE","GET_BANNER","GET_MENU","GET_THEME_EVENT","GET_SHOP_SEN_MALL","GET_PRODUCT_RECOMMEND","GET_PRODUCT_TOPKEYWORD","DELETE_OLD_PRODUCT","GET_PRODUCT_FILTER","GET_ARRAY_FILTER","GET_QUERY","GET_PATH_DEFAULT","GET_DETAIL_PRODUCT","GET_DETAIL_SHOP","ADD_TO_CART","DELETE_PRODUCT_CART","CHANGE_QUANITY","HISTORY_QUERY","HISTORY_PRODUCT","CHANGE_ISUPDATE","GET_PRODUCT_FILTER_START","GET_DETAIL_PRODUCT_START","GET_ERR_MSG","GET_STATUS_FILTER","GET_STATUS_DETAIL","GET_USER_LOGGED","HANDLESORT","initialState","countNumber","productFlashSale","productRecommend","productTopKeyWord","productFilter","shopSenMall","banner","menu","sitemap","query","page","themeEvent","arrayFilter","defaultTerm","generalTerm","generalTerm_PositionTop","detailProduct","detailShop","pathDefault","cartProducts","historyQuery","historyProduct","isUpdate","isSuccess","errMsg","statusFilter","statusDetail","user","name","isLoggedSuccess","reducer","state","action","type","category","newArray_PathDefault","isLoadmore","loadMoreProducts","console","log","newArrayDefaultTerm","newArrayGeneralTerm","newArrayPositionTop","newArrayFilter","result","data","i","length","attribute_term","push","position","product_AddToCart","product","id","splice","quanity","newCartProduct","new_cartProduct","index","value","newHistoryQuery","ele","newHistoryProduct","sortType","sort","a","b","final_price","order_count","promotion_percent"],"mappings":"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","sourcesContent":["import {\n  FILTER,\n  TEST_COUNT_NUMBER_TANG,\n  TEST_COUNT_NUMBER_GIAM,\n  GET_PRODUCT_FLASHSALE,\n  GET_BANNER,\n  GET_MENU,\n  // GET_SITEMAP,\n  GET_THEME_EVENT,\n  GET_SHOP_SEN_MALL,\n  GET_PRODUCT_RECOMMEND,\n  GET_PRODUCT_TOPKEYWORD,\n  DELETE_OLD_PRODUCT,\n  GET_PRODUCT_FILTER,\n  GET_ARRAY_FILTER,\n  GET_QUERY,\n  GET_PATH_DEFAULT,\n  GET_DETAIL_PRODUCT,\n  GET_DETAIL_SHOP,\n  ADD_TO_CART,\n  DELETE_PRODUCT_CART,\n  CHANGE_QUANITY,\n  HISTORY_QUERY,\n  HISTORY_PRODUCT,\n  CHANGE_ISUPDATE,\n  GET_PRODUCT_FILTER_START,\n  GET_DETAIL_PRODUCT_START,\n  GET_ERR_MSG,\n  GET_STATUS_FILTER,\n  GET_STATUS_DETAIL,\n  GET_USER_LOGGED,\n  HANDLESORT,\n} from \"./action\";\n\nconst initialState = {\n  countNumber: 0,\n  productFlashSale: [],\n  productRecommend: [],\n  productTopKeyWord: [],\n  productFilter: [],\n  shopSenMall: [],\n  banner: [],\n  menu: [],\n  sitemap: [],\n  query: \"\",\n  page: 1,\n  themeEvent: [],\n  arrayFilter: [],\n  defaultTerm: [],\n  generalTerm: [],\n  generalTerm_PositionTop: [],\n  detailProduct: [],\n  detailShop: [],\n  pathDefault: [],\n  cartProducts: [],\n  historyQuery: [],\n  historyProduct: [],\n  isUpdate: false,\n  isSuccess: true,\n  errMsg: \"\",\n  statusFilter: \"startLoading\",\n  statusDetail: \"startLoading\",\n\n  user: {\n    name: \"\",\n    isLoggedSuccess: false,\n  },\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FILTER: {\n      return { ...state, category: action.category };\n    }\n    case CHANGE_ISUPDATE: {\n      return { ...state, isUpdate: action.isUpdate };\n    }\n    case TEST_COUNT_NUMBER_TANG: {\n      initialState.countNumber++;\n      return { ...state, countNumber: initialState.countNumber };\n    }\n    case TEST_COUNT_NUMBER_GIAM: {\n      initialState.countNumber = initialState.countNumber - 1;\n      return { ...state, countNumber: initialState.countNumber };\n    }\n    case GET_PRODUCT_FLASHSALE: {\n      return { ...state, productFlashSale: action.productFlashSale };\n    }\n    case GET_BANNER: {\n      return { ...state, banner: action.banner };\n    }\n    case GET_MENU: {\n      return { ...state, menu: action.menu };\n    }\n    // case GET_SITEMAP: {\n    //   return { ...state, sitemap: action.sitemap };\n    // }\n    case GET_THEME_EVENT: {\n      return { ...state, themeEvent: action.themeEvent };\n    }\n    case GET_SHOP_SEN_MALL: {\n      return { ...state, shopSenMall: action.shopSenMall };\n    }\n    case GET_PRODUCT_RECOMMEND: {\n      return { ...state, productRecommend: action.productRecommend };\n    }\n    case GET_PRODUCT_TOPKEYWORD: {\n      return { ...state, productTopKeyWord: action.productTopKeyWord };\n    }\n    case GET_PATH_DEFAULT: {\n      let { pathDefault } = state;\n      const newArray_PathDefault = [...pathDefault, action.pathDefault];\n\n      return { ...state, pathDefault: newArray_PathDefault };\n    }\n    case DELETE_OLD_PRODUCT: {\n      return { ...state, productFilter: action.productFilter };\n    }\n    case GET_PRODUCT_FILTER_START: {\n      return {\n        ...state,\n        productFilter: action.isLoadmore ? state.productFilter : [],\n      };\n    }\n    case GET_PRODUCT_FILTER: {\n      const loadMoreProducts = [\n        ...state.productFilter,\n        ...action.productFilter,\n      ];\n      const productFilter = action.productFilter;\n\n      console.log(loadMoreProducts, \"new\");\n\n      return {\n        ...state,\n        productFilter: action.isLoadmore ? loadMoreProducts : productFilter,\n      };\n    }\n    case GET_ARRAY_FILTER: {\n      let newArrayDefaultTerm = [];\n      let newArrayGeneralTerm = [];\n      let newArrayPositionTop = [];\n\n      const newArrayFilter = action.arrayFilter.result.data;\n\n      for (let i = 0; i < newArrayFilter.length; i++) {\n        newArrayFilter[i].attribute_term === \"DefaultTerm\" &&\n          newArrayDefaultTerm.push(newArrayFilter[i]);\n      }\n\n      for (let i = 0; i < newArrayFilter.length; i++) {\n        if (\n          (newArrayFilter[i].attribute_term === \"GeneralTerm\") &\n          (newArrayFilter[i].position !== \"top\")\n        ) {\n          newArrayGeneralTerm.push(newArrayFilter[i]);\n        }\n      }\n      for (let i = 0; i < newArrayFilter.length; i++) {\n        if (\n          (newArrayFilter[i].attribute_term === \"GeneralTerm\") &\n          (newArrayFilter[i].position === \"top\")\n        ) {\n          newArrayPositionTop.push(newArrayFilter[i]);\n        }\n      }\n\n      return {\n        ...state,\n        arrayFilter: newArrayFilter,\n        defaultTerm: newArrayDefaultTerm,\n        generalTerm: newArrayGeneralTerm,\n        generalTerm_PositionTop: newArrayPositionTop,\n      };\n    }\n    case GET_QUERY: {\n      return { ...state, query: action.query };\n    }\n    case GET_DETAIL_PRODUCT_START: {\n      return { ...state, detailProduct: [] };\n    }\n    case GET_DETAIL_PRODUCT: {\n      return { ...state, detailProduct: action.detailProduct };\n    }\n    case GET_DETAIL_SHOP: {\n      return { ...state, detailShop: action.detailShop };\n    }\n    case ADD_TO_CART: {\n      const product_AddToCart = action.product_AddToCart;\n\n      const length = state.cartProducts.length;\n      const cartProducts = state.cartProducts;\n\n      cartProducts[length] = product_AddToCart;\n      for (let i = 0; i < cartProducts.length - 1; i++) {\n        const product = cartProducts[i];\n        if (\n          (product.id === product_AddToCart.id) &\n          (product[\"Màu sắc\"] === product_AddToCart[\"Màu sắc\"]) &\n          (product[\"Kích thước\"] === product_AddToCart[\"Kích thước\"])\n        ) {\n          console.log(\"giong\");\n          cartProducts.splice(length, 1);\n          product.quanity = product.quanity + 1;\n        }\n      }\n      console.log(cartProducts, \"cartProduct\");\n\n      return { ...state, cartProducts: cartProducts };\n    }\n    case DELETE_PRODUCT_CART: {\n      const newCartProduct = action.cartProducts;\n      console.log(newCartProduct, \"new\");\n      return { ...state, cartProducts: newCartProduct, isUpdate: true };\n    }\n    case CHANGE_QUANITY: {\n      const new_cartProduct = state.cartProducts;\n      new_cartProduct[action.index].quanity = action.value;\n      return { ...state, cartProducts: new_cartProduct };\n    }\n    case HISTORY_QUERY: {\n      const newHistoryQuery = state.historyQuery;\n      newHistoryQuery.push(action.historyQuery);\n      for (let i = 0; i < newHistoryQuery.length - 1; i++) {\n        const ele = newHistoryQuery[i];\n        ele === action.historyQuery && newHistoryQuery.splice(i, 1);\n      }\n\n      return { ...state, historyQuery: newHistoryQuery };\n    }\n    case HISTORY_PRODUCT: {\n      let newHistoryProduct = state.historyProduct;\n      newHistoryProduct.push(action.historyProduct);\n      newHistoryProduct.length > 3 && newHistoryProduct.splice(0, 1);\n      return { ...state, historyProduct: newHistoryProduct };\n    }\n\n    case GET_ERR_MSG: {\n      return { ...state, errMsg: action.errMsg };\n    }\n\n    case GET_STATUS_FILTER: {\n      return { ...state, statusFilter: action.statusFilter };\n    }\n    case GET_STATUS_DETAIL: {\n      return { ...state, statusDetail: action.statusDetail };\n    }\n    case GET_USER_LOGGED: {\n      let user = state.user;\n      user.name = action.name;\n      user.isLoggedSuccess = action.isLoggedSuccess;\n      return {\n        ...state,\n        user: user,\n      };\n    }\n    case HANDLESORT: {\n      const sortType = action.sortType;\n      const productFilter = action.productFilter;\n      switch (sortType) {\n        case \"thapdencao\":\n          console.log(\"thapdencao\");\n          productFilter.sort(function (a, b) {\n            return a.final_price - b.final_price;\n          });\n          break;\n        case \"caodenthap\":\n          productFilter.sort(function (a, b) {\n            return b.final_price - a.final_price;\n          });\n          break;\n        case \"muanhieunhat\":\n          productFilter.sort(function (a, b) {\n            return b.order_count - a.order_count;\n          });\n          break;\n        case \"dangkhuyenmai\":\n          productFilter.sort(function (a, b) {\n            return b.promotion_percent - a.promotion_percent;\n          });\n          break;\n        default:\n          return { ...state };\n      }\n      return { ...state, productFilter: productFilter, isUpdate: true };\n    }\n    default:\n      return state;\n  }\n};\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}