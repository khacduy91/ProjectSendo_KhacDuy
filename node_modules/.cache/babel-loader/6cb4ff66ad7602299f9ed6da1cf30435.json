{"ast":null,"code":"import { FILTER, TEST_COUNT_NUMBER_TANG, TEST_COUNT_NUMBER_GIAM, GET_PRODUCT_FLASHSALE, GET_BANNER, GET_MENU // GET_SITEMAP,\n, GET_THEME_EVENT, GET_SHOP_SEN_MALL, GET_PRODUCT_RECOMMEND, GET_PRODUCT_TOPKEYWORD, DELETE_OLD_PRODUCT, GET_PRODUCT_FILTER, GET_ARRAY_FILTER, GET_QUERY, GET_PATH_DEFAULT, GET_DETAIL_PRODUCT, GET_DETAIL_SHOP, ADD_TO_CART, DELETE_PRODUCT_CART, CHANGE_QUANITY, HISTORY_QUERY, HISTORY_PRODUCT, CHANGE_ISUPDATE, GET_PRODUCT_FILTER_START, GET_DETAIL_PRODUCT_START, GET_ERR_MSG, GET_STATUS_FILTER, GET_STATUS_DETAIL, GET_USER_LOGGED, HANDLESORT } from \"./action\";\nconst initialState = {\n  countNumber: 0,\n  productFlashSale: [],\n  productRecommend: [],\n  productTopKeyWord: [],\n  productFilter: [],\n  shopSenMall: [],\n  banner: [],\n  menu: [],\n  sitemap: [],\n  query: \"\",\n  themeEvent: [],\n  arrayFilter: [],\n  defaultTerm: [],\n  generalTerm: [],\n  generalTerm_PositionTop: [],\n  detailProduct: [],\n  detailShop: [],\n  pathDefault: [],\n  cartProducts: [],\n  historyQuery: [],\n  historyProduct: [],\n  isUpdate: false,\n  isSuccess: true,\n  errMsg: \"\",\n  statusFilter: \"startLoading\",\n  statusDetail: \"startLoading\",\n  user: {\n    name: \"\",\n    isLoggedSuccess: false\n  }\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FILTER:\n      {\n        return { ...state,\n          category: action.category\n        };\n      }\n\n    case CHANGE_ISUPDATE:\n      {\n        return { ...state,\n          isUpdate: action.isUpdate\n        };\n      }\n\n    case TEST_COUNT_NUMBER_TANG:\n      {\n        initialState.countNumber++;\n        return { ...state,\n          countNumber: initialState.countNumber\n        };\n      }\n\n    case TEST_COUNT_NUMBER_GIAM:\n      {\n        initialState.countNumber = initialState.countNumber - 1;\n        return { ...state,\n          countNumber: initialState.countNumber\n        };\n      }\n\n    case GET_PRODUCT_FLASHSALE:\n      {\n        return { ...state,\n          productFlashSale: action.productFlashSale\n        };\n      }\n\n    case GET_BANNER:\n      {\n        return { ...state,\n          banner: action.banner\n        };\n      }\n\n    case GET_MENU:\n      {\n        return { ...state,\n          menu: action.menu\n        };\n      }\n    // case GET_SITEMAP: {\n    //   return { ...state, sitemap: action.sitemap };\n    // }\n\n    case GET_THEME_EVENT:\n      {\n        return { ...state,\n          themeEvent: action.themeEvent\n        };\n      }\n\n    case GET_SHOP_SEN_MALL:\n      {\n        return { ...state,\n          shopSenMall: action.shopSenMall\n        };\n      }\n\n    case GET_PRODUCT_RECOMMEND:\n      {\n        return { ...state,\n          productRecommend: action.productRecommend\n        };\n      }\n\n    case GET_PRODUCT_TOPKEYWORD:\n      {\n        return { ...state,\n          productTopKeyWord: action.productTopKeyWord\n        };\n      }\n\n    case GET_PATH_DEFAULT:\n      {\n        let {\n          pathDefault\n        } = state;\n        const newArray_PathDefault = [...pathDefault, action.pathDefault];\n        return { ...state,\n          pathDefault: newArray_PathDefault\n        };\n      }\n\n    case DELETE_OLD_PRODUCT:\n      {\n        return { ...state,\n          productFilter: action.productFilter\n        };\n      }\n\n    case GET_PRODUCT_FILTER_START:\n      {\n        return { ...state,\n          productFilter: action.isLoadmore ? state.productFilter : []\n        };\n      }\n\n    case GET_PRODUCT_FILTER:\n      {\n        const loadMoreProducts = [...state.productFilter, ...action.productFilter];\n        const productFilter = action.productFilter;\n        console.log(loadMoreProducts, \"new\");\n        return { ...state,\n          productFilter: action.isLoadmore ? loadMoreProducts : productFilter\n        };\n      }\n\n    case GET_ARRAY_FILTER:\n      {\n        let newArrayDefaultTerm = [];\n        let newArrayGeneralTerm = [];\n        let newArrayPositionTop = [];\n        const newArrayFilter = action.arrayFilter.result.data;\n\n        for (let i = 0; i < newArrayFilter.length; i++) {\n          newArrayFilter[i].attribute_term === \"DefaultTerm\" && newArrayDefaultTerm.push(newArrayFilter[i]);\n        }\n\n        for (let i = 0; i < newArrayFilter.length; i++) {\n          if (newArrayFilter[i].attribute_term === \"GeneralTerm\" & newArrayFilter[i].position !== \"top\") {\n            newArrayGeneralTerm.push(newArrayFilter[i]);\n          }\n        }\n\n        for (let i = 0; i < newArrayFilter.length; i++) {\n          if (newArrayFilter[i].attribute_term === \"GeneralTerm\" & newArrayFilter[i].position === \"top\") {\n            newArrayPositionTop.push(newArrayFilter[i]);\n          }\n        }\n\n        return { ...state,\n          arrayFilter: newArrayFilter,\n          defaultTerm: newArrayDefaultTerm,\n          generalTerm: newArrayGeneralTerm,\n          generalTerm_PositionTop: newArrayPositionTop\n        };\n      }\n\n    case GET_QUERY:\n      {\n        return { ...state,\n          query: action.query\n        };\n      }\n\n    case GET_DETAIL_PRODUCT_START:\n      {\n        return { ...state,\n          detailProduct: []\n        };\n      }\n\n    case GET_DETAIL_PRODUCT:\n      {\n        return { ...state,\n          detailProduct: action.detailProduct\n        };\n      }\n\n    case GET_DETAIL_SHOP:\n      {\n        return { ...state,\n          detailShop: action.detailShop\n        };\n      }\n\n    case ADD_TO_CART:\n      {\n        const product_AddToCart = action.product_AddToCart;\n        const length = state.cartProducts.length;\n        const cartProducts = state.cartProducts;\n        cartProducts[length] = product_AddToCart;\n\n        for (let i = 0; i < cartProducts.length - 1; i++) {\n          const product = cartProducts[i];\n\n          if (product.id === product_AddToCart.id & product[\"Màu sắc\"] === product_AddToCart[\"Màu sắc\"] & product[\"Kích thước\"] === product_AddToCart[\"Kích thước\"]) {\n            console.log(\"giong\");\n            cartProducts.splice(length, 1);\n            product.quanity = product.quanity + 1;\n          }\n        }\n\n        console.log(cartProducts, \"cartProduct\");\n        return { ...state,\n          cartProducts: cartProducts\n        };\n      }\n\n    case DELETE_PRODUCT_CART:\n      {\n        const newCartProduct = action.cartProducts;\n        console.log(newCartProduct, \"new\");\n        return { ...state,\n          cartProducts: newCartProduct,\n          isUpdate: true\n        };\n      }\n\n    case CHANGE_QUANITY:\n      {\n        const new_cartProduct = state.cartProducts;\n        new_cartProduct[action.index].quanity = action.value;\n        return { ...state,\n          cartProducts: new_cartProduct\n        };\n      }\n\n    case HISTORY_QUERY:\n      {\n        const newHistoryQuery = state.historyQuery;\n        newHistoryQuery.push(action.historyQuery);\n\n        for (let i = 0; i < newHistoryQuery.length - 1; i++) {\n          const ele = newHistoryQuery[i];\n          ele === action.historyQuery && newHistoryQuery.splice(i, 1);\n        }\n\n        return { ...state,\n          historyQuery: newHistoryQuery\n        };\n      }\n\n    case HISTORY_PRODUCT:\n      {\n        let newHistoryProduct = state.historyProduct;\n        newHistoryProduct.push(action.historyProduct);\n        newHistoryProduct.length > 3 && newHistoryProduct.splice(0, 1);\n        return { ...state,\n          historyProduct: newHistoryProduct\n        };\n      }\n\n    case GET_ERR_MSG:\n      {\n        return { ...state,\n          errMsg: action.errMsg\n        };\n      }\n\n    case GET_STATUS_FILTER:\n      {\n        return { ...state,\n          statusFilter: action.statusFilter\n        };\n      }\n\n    case GET_STATUS_DETAIL:\n      {\n        return { ...state,\n          statusDetail: action.statusDetail\n        };\n      }\n\n    case GET_USER_LOGGED:\n      {\n        let user = state.user;\n        user.name = action.name;\n        user.isLoggedSuccess = action.isLoggedSuccess;\n        return { ...state,\n          user: user\n        };\n      }\n\n    case HANDLESORT:\n      {\n        const sortType = action.sortType;\n        const productFilter = state.productFilter;\n\n        switch (sortType) {\n          case \"thapdencao\":\n            console.log(\"thapdencao\");\n            productFilter.sort(function (a, b) {\n              return a.final_price - b.final_price;\n            });\n            return { ...state,\n              productFilter: productFilter\n            };\n\n          case \"caodenthap\":\n            productFilter.sort(function (a, b) {\n              return b.final_price - a.final_price;\n            });\n            return { ...state,\n              productFilter: productFilter\n            };\n\n          case \"muanhieunhat\":\n            console.log(\"sapxeptheo TYPE\");\n            return { ...state,\n              productFilter: productFilter\n            };\n\n          case \"dangkhuyenmai\":\n            console.log(\"sapxeptheo TYPE\");\n            return { ...state,\n              productFilter: productFilter\n            };\n\n          default:\n            return state;\n        }\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/apple/DuyVu_CV/src/redux/reducer.js"],"names":["FILTER","TEST_COUNT_NUMBER_TANG","TEST_COUNT_NUMBER_GIAM","GET_PRODUCT_FLASHSALE","GET_BANNER","GET_MENU","GET_THEME_EVENT","GET_SHOP_SEN_MALL","GET_PRODUCT_RECOMMEND","GET_PRODUCT_TOPKEYWORD","DELETE_OLD_PRODUCT","GET_PRODUCT_FILTER","GET_ARRAY_FILTER","GET_QUERY","GET_PATH_DEFAULT","GET_DETAIL_PRODUCT","GET_DETAIL_SHOP","ADD_TO_CART","DELETE_PRODUCT_CART","CHANGE_QUANITY","HISTORY_QUERY","HISTORY_PRODUCT","CHANGE_ISUPDATE","GET_PRODUCT_FILTER_START","GET_DETAIL_PRODUCT_START","GET_ERR_MSG","GET_STATUS_FILTER","GET_STATUS_DETAIL","GET_USER_LOGGED","HANDLESORT","initialState","countNumber","productFlashSale","productRecommend","productTopKeyWord","productFilter","shopSenMall","banner","menu","sitemap","query","themeEvent","arrayFilter","defaultTerm","generalTerm","generalTerm_PositionTop","detailProduct","detailShop","pathDefault","cartProducts","historyQuery","historyProduct","isUpdate","isSuccess","errMsg","statusFilter","statusDetail","user","name","isLoggedSuccess","reducer","state","action","type","category","newArray_PathDefault","isLoadmore","loadMoreProducts","console","log","newArrayDefaultTerm","newArrayGeneralTerm","newArrayPositionTop","newArrayFilter","result","data","i","length","attribute_term","push","position","product_AddToCart","product","id","splice","quanity","newCartProduct","new_cartProduct","index","value","newHistoryQuery","ele","newHistoryProduct","sortType","sort","a","b","final_price"],"mappings":"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","sourcesContent":["import {\n  FILTER,\n  TEST_COUNT_NUMBER_TANG,\n  TEST_COUNT_NUMBER_GIAM,\n  GET_PRODUCT_FLASHSALE,\n  GET_BANNER,\n  GET_MENU,\n  // GET_SITEMAP,\n  GET_THEME_EVENT,\n  GET_SHOP_SEN_MALL,\n  GET_PRODUCT_RECOMMEND,\n  GET_PRODUCT_TOPKEYWORD,\n  DELETE_OLD_PRODUCT,\n  GET_PRODUCT_FILTER,\n  GET_ARRAY_FILTER,\n  GET_QUERY,\n  GET_PATH_DEFAULT,\n  GET_DETAIL_PRODUCT,\n  GET_DETAIL_SHOP,\n  ADD_TO_CART,\n  DELETE_PRODUCT_CART,\n  CHANGE_QUANITY,\n  HISTORY_QUERY,\n  HISTORY_PRODUCT,\n  CHANGE_ISUPDATE,\n  GET_PRODUCT_FILTER_START,\n  GET_DETAIL_PRODUCT_START,\n  GET_ERR_MSG,\n  GET_STATUS_FILTER,\n  GET_STATUS_DETAIL,\n  GET_USER_LOGGED,\n  HANDLESORT,\n} from \"./action\";\n\nconst initialState = {\n  countNumber: 0,\n  productFlashSale: [],\n  productRecommend: [],\n  productTopKeyWord: [],\n  productFilter: [],\n  shopSenMall: [],\n  banner: [],\n  menu: [],\n  sitemap: [],\n  query: \"\",\n  themeEvent: [],\n  arrayFilter: [],\n  defaultTerm: [],\n  generalTerm: [],\n  generalTerm_PositionTop: [],\n  detailProduct: [],\n  detailShop: [],\n  pathDefault: [],\n  cartProducts: [],\n  historyQuery: [],\n  historyProduct: [],\n  isUpdate: false,\n  isSuccess: true,\n  errMsg: \"\",\n  statusFilter: \"startLoading\",\n  statusDetail: \"startLoading\",\n\n  user: {\n    name: \"\",\n    isLoggedSuccess: false,\n  },\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FILTER: {\n      return { ...state, category: action.category };\n    }\n    case CHANGE_ISUPDATE: {\n      return { ...state, isUpdate: action.isUpdate };\n    }\n    case TEST_COUNT_NUMBER_TANG: {\n      initialState.countNumber++;\n      return { ...state, countNumber: initialState.countNumber };\n    }\n    case TEST_COUNT_NUMBER_GIAM: {\n      initialState.countNumber = initialState.countNumber - 1;\n      return { ...state, countNumber: initialState.countNumber };\n    }\n    case GET_PRODUCT_FLASHSALE: {\n      return { ...state, productFlashSale: action.productFlashSale };\n    }\n    case GET_BANNER: {\n      return { ...state, banner: action.banner };\n    }\n    case GET_MENU: {\n      return { ...state, menu: action.menu };\n    }\n    // case GET_SITEMAP: {\n    //   return { ...state, sitemap: action.sitemap };\n    // }\n    case GET_THEME_EVENT: {\n      return { ...state, themeEvent: action.themeEvent };\n    }\n    case GET_SHOP_SEN_MALL: {\n      return { ...state, shopSenMall: action.shopSenMall };\n    }\n    case GET_PRODUCT_RECOMMEND: {\n      return { ...state, productRecommend: action.productRecommend };\n    }\n    case GET_PRODUCT_TOPKEYWORD: {\n      return { ...state, productTopKeyWord: action.productTopKeyWord };\n    }\n    case GET_PATH_DEFAULT: {\n      let { pathDefault } = state;\n      const newArray_PathDefault = [...pathDefault, action.pathDefault];\n\n      return { ...state, pathDefault: newArray_PathDefault };\n    }\n    case DELETE_OLD_PRODUCT: {\n      return { ...state, productFilter: action.productFilter };\n    }\n    case GET_PRODUCT_FILTER_START: {\n      return {\n        ...state,\n        productFilter: action.isLoadmore ? state.productFilter : [],\n      };\n    }\n    case GET_PRODUCT_FILTER: {\n      const loadMoreProducts = [\n        ...state.productFilter,\n        ...action.productFilter,\n      ];\n      const productFilter = action.productFilter;\n\n      console.log(loadMoreProducts, \"new\");\n\n      return {\n        ...state,\n        productFilter: action.isLoadmore ? loadMoreProducts : productFilter,\n      };\n    }\n    case GET_ARRAY_FILTER: {\n      let newArrayDefaultTerm = [];\n      let newArrayGeneralTerm = [];\n      let newArrayPositionTop = [];\n\n      const newArrayFilter = action.arrayFilter.result.data;\n\n      for (let i = 0; i < newArrayFilter.length; i++) {\n        newArrayFilter[i].attribute_term === \"DefaultTerm\" &&\n          newArrayDefaultTerm.push(newArrayFilter[i]);\n      }\n\n      for (let i = 0; i < newArrayFilter.length; i++) {\n        if (\n          (newArrayFilter[i].attribute_term === \"GeneralTerm\") &\n          (newArrayFilter[i].position !== \"top\")\n        ) {\n          newArrayGeneralTerm.push(newArrayFilter[i]);\n        }\n      }\n      for (let i = 0; i < newArrayFilter.length; i++) {\n        if (\n          (newArrayFilter[i].attribute_term === \"GeneralTerm\") &\n          (newArrayFilter[i].position === \"top\")\n        ) {\n          newArrayPositionTop.push(newArrayFilter[i]);\n        }\n      }\n\n      return {\n        ...state,\n        arrayFilter: newArrayFilter,\n        defaultTerm: newArrayDefaultTerm,\n        generalTerm: newArrayGeneralTerm,\n        generalTerm_PositionTop: newArrayPositionTop,\n      };\n    }\n    case GET_QUERY: {\n      return { ...state, query: action.query };\n    }\n    case GET_DETAIL_PRODUCT_START: {\n      return { ...state, detailProduct: [] };\n    }\n    case GET_DETAIL_PRODUCT: {\n      return { ...state, detailProduct: action.detailProduct };\n    }\n    case GET_DETAIL_SHOP: {\n      return { ...state, detailShop: action.detailShop };\n    }\n    case ADD_TO_CART: {\n      const product_AddToCart = action.product_AddToCart;\n\n      const length = state.cartProducts.length;\n      const cartProducts = state.cartProducts;\n\n      cartProducts[length] = product_AddToCart;\n      for (let i = 0; i < cartProducts.length - 1; i++) {\n        const product = cartProducts[i];\n        if (\n          (product.id === product_AddToCart.id) &\n          (product[\"Màu sắc\"] === product_AddToCart[\"Màu sắc\"]) &\n          (product[\"Kích thước\"] === product_AddToCart[\"Kích thước\"])\n        ) {\n          console.log(\"giong\");\n          cartProducts.splice(length, 1);\n          product.quanity = product.quanity + 1;\n        }\n      }\n      console.log(cartProducts, \"cartProduct\");\n\n      return { ...state, cartProducts: cartProducts };\n    }\n    case DELETE_PRODUCT_CART: {\n      const newCartProduct = action.cartProducts;\n      console.log(newCartProduct, \"new\");\n      return { ...state, cartProducts: newCartProduct, isUpdate: true };\n    }\n    case CHANGE_QUANITY: {\n      const new_cartProduct = state.cartProducts;\n      new_cartProduct[action.index].quanity = action.value;\n      return { ...state, cartProducts: new_cartProduct };\n    }\n    case HISTORY_QUERY: {\n      const newHistoryQuery = state.historyQuery;\n      newHistoryQuery.push(action.historyQuery);\n      for (let i = 0; i < newHistoryQuery.length - 1; i++) {\n        const ele = newHistoryQuery[i];\n        ele === action.historyQuery && newHistoryQuery.splice(i, 1);\n      }\n\n      return { ...state, historyQuery: newHistoryQuery };\n    }\n    case HISTORY_PRODUCT: {\n      let newHistoryProduct = state.historyProduct;\n      newHistoryProduct.push(action.historyProduct);\n      newHistoryProduct.length > 3 && newHistoryProduct.splice(0, 1);\n      return { ...state, historyProduct: newHistoryProduct };\n    }\n\n    case GET_ERR_MSG: {\n      return { ...state, errMsg: action.errMsg };\n    }\n\n    case GET_STATUS_FILTER: {\n      return { ...state, statusFilter: action.statusFilter };\n    }\n    case GET_STATUS_DETAIL: {\n      return { ...state, statusDetail: action.statusDetail };\n    }\n    case GET_USER_LOGGED: {\n      let user = state.user;\n      user.name = action.name;\n      user.isLoggedSuccess = action.isLoggedSuccess;\n      return {\n        ...state,\n        user: user,\n      };\n    }\n    case HANDLESORT: {\n      const sortType = action.sortType;\n      const productFilter = state.productFilter;\n      switch (sortType) {\n        case \"thapdencao\":\n          console.log(\"thapdencao\");\n          productFilter.sort(function (a, b) {\n            return a.final_price - b.final_price;\n          });\n          return { ...state, productFilter: productFilter };\n        case \"caodenthap\":\n          productFilter.sort(function (a, b) {\n            return b.final_price - a.final_price;\n          });\n          return { ...state, productFilter: productFilter };\n        case \"muanhieunhat\":\n          console.log(\"sapxeptheo TYPE\");\n          return { ...state, productFilter: productFilter };\n        case \"dangkhuyenmai\":\n          console.log(\"sapxeptheo TYPE\");\n          return { ...state, productFilter: productFilter };\n        default:\n          return state;\n      }\n    }\n    default:\n      return state;\n  }\n};\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}